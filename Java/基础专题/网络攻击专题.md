## 一 XSS(跨站点脚本攻击)
### 1.1 什么是XSS
✅ Cross-Site Script 缩写，表示跨站点脚本攻击  
✅ 攻击者通过向url或者网页注入恶意脚本进行攻击，从而可以达到窃取cookie、会话劫持、嵌入钓鱼页面等等恶意操作  

### 1.2 XSS攻击类型
#### 1.2.1 反射型攻击
✅ 直接用户提交的请求中的内容直接反射回到目标网站上，从而触发攻击  
✅ 构造恶意脚本: 攻击者构造一个针对目标网站的包含恶意脚本的 URL  
✅ 引导用户点击: 攻击者通过发送一些邮件、或者黄色网站、或者聊天群，引导用户点击这些恶意链接  
✅ 触发攻击: 这些脚本可能会盗取用户cookie，会话劫持等  

#### 1.2.2 存储型攻击
✅ 攻击者在目标网站存储一个恶意脚本，比如评论、留言板、评价等等  
✅ 其他用户访问该网站，打开了攻击者的评论，此时会从数据库查询出来显示在网页上，从而触发恶意脚本执行  


### 1.3 XSS攻击危害
✅ 窃取用户的 Cookie，进行会话劫持  
✅ 在页面中嵌入钓鱼内容，引导张三输入敏感信息（如账户密码、支付信息）  
✅ 利用 JavaScript 在页面中执行恶意操作，如伪造交易、盗刷余额  

### 1.4 XSS攻击解决方案
✅ 禁止JavaScript读取Cookie, 只允许HTTP请求读取Cookie, 在响应中通过cookie设置httpOnly=true  
✅ 通过过滤器、拦截器对包含<script>的字符串进行编码、或者直接删除  
✅ 内容安全策略CSP(Content Security Policy)，可以用于帮助和防止跨站点脚本攻击、点击劫持和数据注入攻击等  


## 二 CRSF(请求伪造攻击)
### 2.1 什么是CSRF
✅ 黑客冒充用户身份，给受信任的网站发送非法请求  

🧠 **如何冒充用户身份？**
⭐ 通过XSS攻击获取用户的Cookie, 然后通过Cookie冒充  
⭐ 通过XSS引导用户输入账户密码之类的信息，通过账户密码冒充  
⭐ 用户登录受信任网站，然后再打开网站的时候，又打开了其他黑客的恶意网站，然后通过恶意网站发送请求给受信任网站，由于用户已经登录，浏览器会自动附带相应的 Cookie，目标网站认为这是合法的请求  

### 2.2 CSRF攻击的危害  
✅ 盗取用户财产  
✅ 修改用户信息  

### 2.3 CSRF攻击解决方案
✅ 受信任网站服务器端生成token, 写入到网页中隐藏字段，在提交请求时候携带  
✅ 受信任网站判断用户请求的referer是不是来自自己的网站，但是这个可以改，所以并不能完全解决这个问题  
✅ 二次验证，对于一些转账、交易等操作，让用户进行二次验证，比如Google Identifier、或者短信验证码、或者输入交易密码等等手段  

## 三 SQL注入
### 3.1 什么是SQL注入
✅ 在请求参数中，输入一些恶意SQL代码，在解析的时候被当做正常的SQL语句解析，并执行  
✅ 而这些SQL语句可能会查询到一些敏感信息，或者修改或者删除掉正常的数据  

### 3.2 SQL注入解决方案
✅ 使用预编译语句（Prepared Statements）和参数化查询  
✅ 对输入或者关键字进行规校验和过滤，不能包含什么字符，长度等等  

## 四 DOS攻击
### 4.1 什么是DDos
✅ DDos是分布式拒绝服务的缩写，即Distributed Denial of Service缩写  
✅ 黑客通过控制网络上大量设备，比如计算机、手机、物联网设备等等  
✅ 向目标服务器发送大量请求消耗带宽、或者耗尽其资源，致使目标服务器无法处理正常流量  

### 4.2 DDos分类
### 4.2.1 流量攻击
#### 4.2.1.1 ICMP 洪泛攻击（Ping 洪泛）
✅ ICMP 协议是无状态的,不需要建立连接，这使得攻击更容易实施  
✅ 攻击者利用被控制的设备，向目标服务器或网络设备发送大量的 ICMP Echo 请求，目标服务器会试图对每个请求都进行处理  
✅ 目标服务器或网络设备在处理每个 ICMP 请求时，都会尝试生成 ICMP Echo 响应。这需要消耗 CPU、内存和网络带宽资源。随着请求数量的增加，目标系统的资源会逐渐耗尽，导致性能下降，无法响应正常用户的请求  
✅ 攻击者可以伪造源 IP 地址，使得目标服务器在试图回复时，流量被发送到错误的地址。这不仅隐藏了攻击者的真实身份，还可能进一步浪费目标网络的资源  
✅ 当目标服务器或网络设备的资源耗尽，或网络带宽被完全占用时，合法用户的请求无法得到响应，造成服务中断，形成拒绝服务  

#### 4.2.1.2 UDP泛洪攻击
✅ 攻击者伪造IP, 向目标服务器的随机端口发送大量的 UDP 数据包  
✅ UDP（用户数据报协议）是一种无连接、无状态的协议，它不需要建立连接和维护状态，因此发送和接收 UDP 数据包的速度很快，且不需要握手等过程  
✅ 由于 UDP 是无连接协议，目标服务器在接收到这些数据包时，并不知道它们是恶意的  
✅ 目标服务器接收到 UDP 数据包后，会尝试识别这些数据包的内容，以确定应该如何处理  
✅ 如果数据包所指向的端口上没有应用程序在监听，服务器将尝试发送 ICMP “端口不可达”消息回给源 IP 地址  
✅ 由于攻击者伪造了源 IP 地址，目标服务器会浪费大量资源试图响应这些无效请求。而且在处理这些包的过程中，服务器的网络带宽、CPU 和内存资源都被大量消耗  
✅ 通过持续的、密集的 UDP 数据包攻击，目标服务器的带宽被占满，网络资源和计算资源耗尽，导致正常用户无法与服务器通信，最终导致拒绝服务  

### 4.2.2 协议攻击
#### 4.2.2.1 SYN攻击
✅ 通过控制网络中被控制的肉鸡，向攻击目标发送大量SYN请求，同时伪造源IP地址  
✅ 因为源IP地址是伪造的，攻击目标发送的SYN_RECV确认包无法收到客户端确认，连接一直无法建立，半连接队列就可能被撑满  
✅ 半连接队列满了，正常的请求可能会被拒绝  

### 4.2.3 应用攻击
#### 4.2.3.1 HTTP 洪泛攻击
✅ 攻击者向目标服务器发送大量的恶意HTTP请求，通常使用伪造的源IP地址  
✅ 这些请求可能是无效的、重复的、具有恶意负载的或者超出目标服务器处理能力的  
✅ 目标服务器接收到大量的恶意HTTP请求后，会消耗大量的网络带宽、服务器资源或应用程序资源来处理这些请求  
✅ 当服务器的资源耗尽时，它将无法继续处理其他合法的请求，导致服务不可用  

### 4.3 DDos解决方案
### 4.3.1 限制连接数和速率
✅ 通过配置服务器或防火墙，限制每个 IP 地址的连接数和请求速率，防止单一 IP 地址发送过多的请求  

### 4.3.2 使用 CDN(内容分发网络)
✅ 使用CDN可以将网站内容分发到全球各地边缘节点，以减轻DDos对源攻击目标的冲击和影响  
✅ CDN服务提供商通常具有强大的网络基础设施和防御机制，能够过滤恶意流量并提供高可用性  

### 4.3.3 流量清洗服务
✅ 在攻击流量到达目标服务器之前，将其引流到流量清洗中心，对流量进行分析和过滤，清除恶意流量，只允许合法流量到达服务器  
✅ 流量清洗服务由专业的安全公司提供，具有强大的分析和清洗能力，可以应对大规模的 DDoS 攻击  

### 4.3.4 可以通过防火墙、入侵检测系统、入侵防护系统等来过滤DDos攻击流量
✅ 网络防火墙可以设置流量限制策略，阻止来自特定 IP 地址的异常请求。入侵防御系统可以实时监控网络流量，检测并拦截异常流量  



