# 如何保证系统稳定性

## 一 什么是稳定性
稳定性指的就是当出现高并发请求、突发留量、网络异常和部分节点故障的时候，整个系统还能继续工作。  
继续保持节点可用、 响应及时、异常可控等。  

## 二 代码层面
### 2.1 限流
为了应对突发的流量、或者当前系统无法支撑巨大的高并发请求，需要牺牲流量，保证系统稳定性  

### 2.2 熔断
为了防止所依赖的下游服务不可用或者错误率太高或者请求太慢，可以对下游服务进行熔断

### 2.3 降级
降级是限流、熔断、超时等行为发生后，发生的兜底操作。可以是返回一些默认数据，也可以是自定义的异常信息等  

### 2.4 超时重试
在遇到网络异常或者所依赖的中间件、服务不稳定的时候，可以通过重试，提升成功率，避免因为短暂的波动直接就结束请求  

### 2.5 保证幂等性
在重试的过程中，可能会产生重复数据，因此需要在代码层面保证幂等性  

## 三 运维与监控阶段
### 3.1 建立完整的监控报警系统（Prometheus + Grafana + Alert Manager）
### 3.2 全链路跟踪，快速定位性能问题
### 3.3 建立故障演练机制